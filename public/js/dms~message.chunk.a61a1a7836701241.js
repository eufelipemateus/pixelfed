/*! For license information please see dms~message.chunk.a61a1a7836701241.js.LICENSE.txt */
"use strict";(self.webpackChunkpixelfed=self.webpackChunkpixelfed||[]).push([[7399],{1686:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-component sticky-top d-none d-md-block"},[e("div",{staticClass:"card shadow-sm mb-3",staticStyle:{"border-radius":"15px"}},[e("div",{staticClass:"card-body p-2"},[e("div",{staticClass:"media user-card user-select-none"},[e("div",{staticStyle:{position:"relative"}},[e("img",{staticClass:"avatar shadow cursor-pointer",attrs:{src:t.user.avatar,draggable:"false",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=0';"},on:{click:function(e){return t.gotoMyProfile()}}}),t._v(" "),e("button",{staticClass:"btn btn-light btn-sm avatar-update-btn",on:{click:function(e){return t.updateAvatar()}}},[e("span",{staticClass:"avatar-update-btn-icon"})])]),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"display-name",domProps:{innerHTML:t._s(t.getDisplayName())}}),t._v(" "),e("p",{staticClass:"username primary"},[t._v("@"+t._s(t.user.username))]),t._v(" "),e("p",{staticClass:"stats"},[e("span",{staticClass:"stats-following"},[e("span",{staticClass:"following-count"},[t._v(t._s(t.formatCount(t.user.following_count)))]),t._v(" Following\n\t\t\t\t\t\t\t")]),t._v(" "),e("span",{staticClass:"stats-followers"},[e("span",{staticClass:"followers-count"},[t._v(t._s(t.formatCount(t.user.followers_count)))]),t._v(" Followers\n\t\t\t\t\t\t\t")])])])])])]),t._v(" "),e("div",{staticClass:"btn-group btn-group-lg btn-block mb-4"},[e("router-link",{staticClass:"btn btn-primary btn-block font-weight-bold",attrs:{to:"/i/web/compose"}},[e("i",{staticClass:"fal fa-arrow-circle-up mr-1"}),t._v(" "+t._s(t.$t("navmenu.compose"))+" Post\n\t\t\t")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/i/collections/create"}},[t._v("Create Collection")]),t._v(" "),t.hasStories?e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/i/stories/new"}},[t._v(t._s(t.$t("navmenu.createStory")))]):t._e(),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item font-weight-bold",attrs:{href:"/settings/home"}},[t._v("Account Settings")])])],1),t._v(" "),e("div",{staticClass:"sidebar-sticky shadow-sm"},[e("ul",{staticClass:"nav flex-column"},[e("li",{staticClass:"nav-item"},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("a",{staticClass:"nav-link text-center",class:["/i/web"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web"},on:{click:function(e){return e.preventDefault(),t.goToFeed("home")}}},[t._m(1),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.homeFeed")))])]),t._v(" "),t.hasLocalTimeline?e("a",{staticClass:"nav-link text-center",class:["/i/web/timeline/local"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web/timeline/local"},on:{click:function(e){return e.preventDefault(),t.goToFeed("local")}}},[t._m(2),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.localFeed")))])]):t._e(),t._v(" "),t.hasNetworkTimeline?e("a",{staticClass:"nav-link text-center",class:["/i/web/timeline/global"==t.$route.path?"router-link-exact-active active":""],attrs:{href:"/i/web/timeline/global"},on:{click:function(e){return e.preventDefault(),t.goToFeed("global")}}},[t._m(3),t._v(" "),e("div",{staticClass:"small"},[t._v(t._s(t.$t("navmenu.globalFeed")))])]):t._e()]),t._v(" "),e("hr",{staticClass:"mb-0",staticStyle:{"margin-top":"-5px",opacity:"0.4"}})]),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/i/web/discover"}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-compass"})]),t._v("\n                        "+t._s(t.$t("navmenu.discover"))+"\n                    ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/direct"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-envelope"})]),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("navmenu.directMessages"))+"\n\t\t\t\t\t\t")])])],1),t._v(" "),t.hasGroups?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/groups/feed"}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-layer-group"})]),t._v("\n                        "+t._s(t.$t("navmenu.groups"))+"\n                    ")])],1):t._e(),t._v(" "),t.hasLiveStreams?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/livestreams"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-record-vinyl"})]),t._v("\n\t\t\t\t\t\t\tLivestreams\n\t\t\t\t\t\t")])])],1):t._e(),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link d-flex justify-content-between align-items-center",attrs:{to:"/i/web/notifications"}},[e("span",[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-bell"})]),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("navmenu.notifications"))+"\n\t\t\t\t\t\t")])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("router-link",{staticClass:"nav-link",attrs:{to:"/i/web/profile/"+t.user.id}},[e("span",{staticClass:"icon text-lighter"},[e("i",{staticClass:"far fa-user"})]),t._v("\n                        "+t._s(t.$t("navmenu.profile"))+"\n                    ")])],1),t._v(" "),t.user.is_admin?e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("a",{staticClass:"nav-link",attrs:{href:"/i/admin/dashboard"}},[t._m(4),t._v("\n                        "+t._s(t.$t("navmenu.admin"))+"\n                    ")])]):t._e(),t._v(" "),e("li",{staticClass:"nav-item"},[e("hr",{staticClass:"mt-n1",staticStyle:{opacity:"0.4","margin-bottom":"0"}}),t._v(" "),e("a",{staticClass:"nav-link",attrs:{href:"/?force_old_ui=1"}},[t._m(5),t._v("\n                        "+t._s(t.$t("navmenu.backToPreviousDesign"))+"\n                    ")])])])]),t._v(" "),e("div",{staticClass:"sidebar-attribution pr-3 d-flex flex-wrap justify-content-between align-items-center",staticStyle:{gap:"5px"}},[e("router-link",{attrs:{to:"/i/web/language"}},[e("i",{staticClass:"fal fa-language fa-2x",attrs:{alt:"Select a language"}})]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/help"}},[t._v(t._s(t.$t("navmenu.help")))]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/privacy"}},[t._v(t._s(t.$t("navmenu.privacy")))]),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"/terms"}},[t._v(t._s(t.$t("navmenu.terms")))]),t._v(" "),t.showLegalNoticeLink?e("a",{staticClass:"font-weight-bold",attrs:{href:"/legal-notice"}},[t._v(t._s(t.$t("navmenu.legalNotice")))]):t._e(),t._v(" "),e("a",{staticClass:"font-weight-bold",attrs:{href:"https://www.paypal.com/donate/?business=J7HKMWTQL7E8L&no_recurring=0&item_name=Contribua+para+o+crescimento+do+Pixelfed+Brasil%21&currency_code=BRL",target:"_blank"}},[t._v("Doar")]),t._v(" "),t.showLegalNoticeLink?e("a",{staticClass:"font-weight-bold",attrs:{href:"/legal-notice"}},[t._v(t._s(t.$t("navmenu.legalNotice")))]):t._e(),t._v(" "),t._m(6)],1),t._v(" "),e("update-avatar",{ref:"avatarUpdate",attrs:{user:t.user}})],1)},i=[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-outline-primary dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-home fa-lg"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"fas fa-stream fa-lg"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-globe fa-lg"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon text-lighter"},[t("i",{staticClass:"far fa-tools"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon text-lighter"},[t("i",{staticClass:"fas fa-chevron-left"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"powered-by"},[t._v("\n                Mantido por "),e("a",{staticClass:"font-weight-bold",attrs:{href:"https://felipemateus.com"}},[t._v("Felipe Mateus")])])}]},3223:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var r=a(50294),i=a(95353);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const l={props:{profile:{type:Object}},components:{ReadMore:r.default},data:function(){return{user:window._sharedData.user,bio:void 0,isLoading:!1,relationship:void 0}},mounted:function(){var t=this;this.rewriteLinks(),this.relationship=this.$store.getters.getRelationship(this.profile.id),this.relationship||this.profile.id==this.user.id||axios.get("/api/pixelfed/v1/accounts/relationships",{params:{"id[]":this.profile.id}}).then((function(e){t.relationship=e.data[0],t.$store.commit("updateRelationship",e.data)}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},(0,i.mapGetters)(["getCustomEmoji"])),methods:{getDisplayName:function(){var t=this,e=this.profile,a=e.display_name;if(!a)return e.username;if(a.includes(":")){return a.replaceAll(/(<a?)?:\w+:(\d{18}>)?/g,(function(e){var a=e.slice(1,e.length-1),r=t.getCustomEmoji.filter((function(t){return t.shortcode==a}));return r.length?'<img draggable="false" class="emojione custom-emoji" alt="'.concat(r[0].shortcode,'" title="').concat(r[0].shortcode,'" src="').concat(r[0].url,'" data-original="').concat(r[0].url,'" data-static="').concat(r[0].static_url,'" width="16" height="16" onerror="this.onerror=null;this.src=\'/storage/emoji/missing.png\';" />'):e}))}return a},getUsername:function(){return this.profile.acct},formatCount:function(t){return App.util.format.count(t)},goToProfile:function(){this.$router.push({name:"profile",path:"/i/web/profile/".concat(this.profile.id),params:{id:this.profile.id,cachedProfile:this.profile,cachedUser:this.user}})},rewriteLinks:function(){var t=this,e=this.profile.note,a=document.createElement("div");a.innerHTML=e,a.querySelectorAll('a[class*="hashtag"]').forEach((function(t){var e=t.innerText;"#"==e.substr(0,1)&&(e=e.substr(1)),t.removeAttribute("target"),t.setAttribute("href","/i/web/hashtag/"+e)})),a.querySelectorAll('a:not(.hashtag)[class*="mention"], a:not(.hashtag)[class*="list-slug"]').forEach((function(e){var a=e.innerText;if("@"==a.substr(0,1)&&(a=a.substr(1)),0==t.profile.local&&!a.includes("@")){var r=document.createElement("a");r.href=t.profile.url,a=a+"@"+r.hostname}e.removeAttribute("target"),e.setAttribute("href","/i/web/username/"+a)})),this.bio=a.outerHTML},performFollow:function(){var t=this;this.isLoading=!0,this.$emit("follow"),setTimeout((function(){t.relationship.following=!0,t.isLoading=!1}),1e3)},performUnfollow:function(){var t=this;this.isLoading=!0,this.$emit("unfollow"),setTimeout((function(){t.relationship.following=!1,t.isLoading=!1}),1e3)}}}},5787:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(16286),i=a(80260),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);a(89069);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,null,null).exports},6140:(t,e,a)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},a=Object.prototype,n=a.hasOwnProperty,o=Object.defineProperty||function(t,e,a){t[e]=a.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(t){p=function(t,e,a){return t[e]=a}}function u(t,e,a,r){var i=e&&e.prototype instanceof w?e:w,n=Object.create(i.prototype),s=new O(r||[]);return o(n,"_invoke",{value:P(t,a,s)}),n}function f(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var m="suspendedStart",v="suspendedYield",h="executing",g="completed",b={};function w(){}function y(){}function x(){}var _={};p(_,l,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(U([])));k&&k!==a&&n.call(k,l)&&(_=k);var A=x.prototype=w.prototype=Object.create(_);function T(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function a(i,o,s,l){var c=f(t[i],t,o);if("throw"!==c.type){var d=c.arg,p=d.value;return p&&"object"==r(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){a("next",t,s,l)}),(function(t){a("throw",t,s,l)})):e.resolve(p).then((function(t){d.value=t,s(d)}),(function(t){return a("throw",t,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,i){a(t,r,e,i)}))}return i=i?i.then(n,n):n()}})}function P(e,a,r){var i=m;return function(n,o){if(i===h)throw Error("Generator is already running");if(i===g){if("throw"===n)throw o;return{value:t,done:!0}}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var l=j(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=f(e,a,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function j(e,a){var r=a.method,i=e.iterator[r];if(i===t)return a.delegate=null,"throw"===r&&e.iterator.return&&(a.method="return",a.arg=t,j(e,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var n=f(i,e.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,b;var o=n.arg;return o?o.done?(a[e.resultName]=o.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,b):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function U(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function a(){for(;++i<e.length;)if(n.call(e,i))return a.value=e[i],a.done=!1,a;return a.value=t,a.done=!0,a};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return y.prototype=x,o(A,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:y,configurable:!0}),y.displayName=p(x,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,p(t,d,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(S.prototype),p(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,a,r,i,n){void 0===n&&(n=Promise);var o=new S(u(t,a,r,i),n);return e.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(A),p(A,d,"Generator"),p(A,l,(function(){return this})),p(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=U,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(r,i){return s.type="throw",s.arg=e,a.next=r,i&&(a.method="next",a.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var i=r.arg;M(a)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:U(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function n(t,e,a,r,i,n,o){try{var s=t[n](o),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(r,i)}a.r(e),a.d(e,{default:()=>o});const o={props:{status:{type:Object},noAutoLink:{type:Boolean},cursorLimit:{type:Number,default:200}},data:function(){return{preRender:void 0,fullContent:null,content:null,cursor:200}},mounted:function(){this.rewriteLinks()},computed:{canTranslate:function(){return window._sharedData.can_translate}},methods:{readMore:function(){this.cursor=this.cursor+200,this.content=this.fullContent.substr(0,this.cursor)},rewriteLinks:function(){var t=this,e=this.status.content,a=document.createElement("div");a.innerHTML=e,a.querySelectorAll('a[class*="hashtag"]').forEach((function(t){var e=t.innerText;"#"==e.substr(0,1)&&(e=e.substr(1)),t.removeAttribute("target"),t.setAttribute("href","/i/web/hashtag/"+e)})),a.querySelectorAll('a:not(.hashtag)[class*="mention"], a:not(.hashtag)[class*="list-slug"]').forEach((function(e){var a=e.innerText;if("@"==a.substr(0,1)&&(a=a.substr(1)),0==t.status.account.local&&!a.includes("@")){var r=document.createElement("a");r.href=e.getAttribute("href"),a=a+"@"+r.hostname}e.removeAttribute("target"),e.setAttribute("href","/i/web/username/"+a)})),this.noAutoLink&&a.querySelectorAll("a").forEach((function(t){var e=t.className||"",a=e.includes("hashtag"),r=e.includes("mention")||e.includes("list-slug");if(!a&&!r){var i=document.createElement("span");i.innerHTML=t.innerHTML,t.replaceWith(i)}})),this.content=a.outerHTML,this.injectCustomEmoji()},injectCustomEmoji:function(){var t=this;this.status.emojis.forEach((function(e){var a='<img draggable="false" class="emojione custom-emoji" alt="'.concat(e.shortcode,'" title="').concat(e.shortcode,'" src="').concat(e.url,'" data-original="').concat(e.url,'" data-static="').concat(e.static_url,'" width="18" height="18" onerror="this.onerror=null;this.src=\'/storage/emoji/missing.png\';" />');t.content=t.content.replace(":".concat(e.shortcode,":"),a)}))},translate:function(){var t,e=this;return(t=i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.status&&e.status.id){t.next=3;break}return console.warn("status is undefined or missing ID"),t.abrupt("return");case 3:return t.prev=3,t.next=6,axios.get("/api/v1/statuses/".concat(e.status.id,"/translate"));case 6:a=t.sent,e.status.content=a.data.text,e.rewriteLinks(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})),function(){var e=this,a=arguments;return new Promise((function(r,i){var o=t.apply(e,a);function s(t){n(o,r,i,s,l,"next",t)}function l(t){n(o,r,i,s,l,"throw",t)}s(void 0)}))})()}}}},8577:(t,e,a)=>{a.r(e);var r=a(1686),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},11582:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){this._self._c;return this._m(0)},i=[function(){var t=this._self._c;return t("div",{staticClass:"ph-item border-0 shadow-sm p-1",staticStyle:{"border-radius":"15px","margin-bottom":"1rem"}},[t("div",{staticClass:"ph-col-12"},[t("div",{staticClass:"ph-row align-items-center mt-0"},[t("div",{staticClass:"ph-avatar mr-3 d-flex",staticStyle:{"min-width":"40px",width:"40px!important",height:"40px!important","border-radius":"15px"}}),this._v(" "),t("div",{staticClass:"ph-col-6 big"})])])])}]},13230:(t,e,a)=>{a.r(e);var r=a(56571),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},16286:(t,e,a)=>{a.r(e);var r=a(69831),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},18011:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(13230),i=a(30328),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);a(45235);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,"445f6b73",null).exports},22670:(t,e,a)=>{a.r(e);var r=a(28387),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},28387:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dm-page-component"},[t.isLoaded?e("div",{staticClass:"container-fluid mt-lg-3 pb-lg-5"},[e("div",{staticClass:"row dm-page-component-row"},[e("div",{staticClass:"col-md-3 d-md-block"},[e("sidebar",{attrs:{user:t.profile}})],1),t._v(" "),e("div",{staticClass:"col-md-6 p-0"},[t.loaded&&"read"==t.page?e("div",{staticClass:"messages-page"},[e("div",{staticClass:"card shadow-none"},[e("div",{staticClass:"h4 card-header font-weight-bold text-dark d-flex justify-content-between align-items-center",staticStyle:{"letter-spacing":"-0.3px"}},[e("button",{staticClass:"btn btn-light rounded-pill text-dark",on:{click:function(e){return t.goBack()}}},[e("i",{staticClass:"far fa-chevron-left fa-lg"})]),t._v(" "),e("div",[t._v("Direct Message")]),t._v(" "),e("button",{staticClass:"btn btn-light rounded-pill text-dark",on:{click:function(e){return t.showOptions()}}},[e("i",{staticClass:"far fa-cog fa-lg"})])]),t._v(" "),e("ul",{staticClass:"list-group list-group-flush",staticStyle:{position:"relative"}},[e("li",{staticClass:"list-group-item border-bottom sticky-top"},[e("p",{staticClass:"text-center small text-muted mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\tConversation with "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.thread.username))])])])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.showDMPrivacyWarning&&t.showPrivacyWarning?e("ul",{staticClass:"list-group list-group-flush dm-privacy-warning",staticStyle:{position:"absolute",top:"105px",width:"100%"}},[e("li",{staticClass:"list-group-item border-bottom sticky-top bg-warning"},[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("div",{staticClass:"d-none d-lg-block"},[e("i",{staticClass:"fas fa-exclamation-triangle text-danger fa-lg mr-3"})]),t._v(" "),e("div",[e("p",{staticClass:"small warning-text mb-0 font-weight-bold"},[e("span",{staticClass:"d-inline d-lg-none"},[t._v("DMs")]),e("span",{staticClass:"d-none d-lg-inline"},[t._v("Direct messages on Pixelfed")]),t._v(" are not end-to-end encrypted.\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),e("p",{staticClass:"small warning-text mb-0 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tUse caution when sharing sensitive data.\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),e("button",{staticClass:"btn btn-link text-decoration-none",on:{click:t.togglePrivacyWarning}},[e("i",{staticClass:"far fa-times-circle fa-lg"}),t._v(" "),e("span",{staticClass:"d-none d-lg-block"},[t._v("Close")])])])])]):t._e()]),t._v(" "),e("ul",{staticClass:"list-group list-group-flush dm-wrapper",staticStyle:{"overflow-y":"scroll",position:"relative","flex-direction":"column-reverse"}},[t._l(t.thread.messages,(function(a,r){return e("li",{staticClass:"list-group-item border-0 chat-msg mb-n2"},[e("message",{attrs:{convo:a,thread:t.thread,hideAvatars:t.hideAvatars,hideTimestamps:t.hideTimestamps,largerText:t.largerText},on:{"confirm-delete":function(e){return t.deleteMessage(r)}}})],1)})),t._v(" "),t.showLoadMore&&t.thread.messages&&t.thread.messages.length>5?e("li",{staticClass:"list-group-item border-0"},[e("p",{staticClass:"text-center small text-muted"},[t.loadingMessages?e("button",{staticClass:"btn btn-primary font-weight-bold rounded-pill btn-sm px-3",attrs:{disabled:""}},[t._v("Loading...")]):e("button",{staticClass:"btn btn-primary font-weight-bold rounded-pill btn-sm px-3",on:{click:function(e){return t.loadOlderMessages()}}},[t._v("Load Older Messages")])])]):t._e()],2),t._v(" "),e("div",{staticClass:"card-footer bg-white p-0"},[e("div",{staticClass:"dm-reply-form"},[e("div",{staticClass:"dm-reply-form-input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.replyText,expression:"replyText"}],staticClass:"form-control form-control-lg",attrs:{placeholder:"Type a message...",disabled:t.uploading},domProps:{value:t.replyText},on:{input:function(e){e.target.composing||(t.replyText=e.target.value)}}}),t._v(" "),e("button",{staticClass:"upload-media-btn btn btn-link",attrs:{disabled:t.uploading},on:{click:t.uploadMedia}},[e("i",{staticClass:"far fa-image fa-2x"})])]),t._v(" "),e("button",{staticClass:"dm-reply-form-submit-btn btn btn-primary",attrs:{disabled:!t.replyText||!t.replyText.length||t.showReplyTooLong},on:{click:t.sendMessage}},[e("i",{staticClass:"far fa-paper-plane fa-lg"})])])]),t._v(" "),t.uploading?e("div",{staticClass:"card-footer dm-status-bar"},[e("p",[t._v("Uploading ("+t._s(t.uploadProgress)+"%) ...")])]):t._e(),t._v(" "),t.showReplyLong?e("div",{staticClass:"card-footer dm-status-bar"},[e("p",{staticClass:"text-warning"},[t._v(t._s(t.replyText.length)+"/500")])]):t._e(),t._v(" "),t.showReplyTooLong?e("div",{staticClass:"card-footer dm-status-bar"},[e("p",{staticClass:"text-danger"},[t._v(t._s(t.replyText.length)+"/500 - Your message exceeds the limit of 500 characters")])]):t._e(),t._v(" "),e("div",{staticClass:"d-none card-footer p-0"},[e("p",{staticClass:"d-flex justify-content-between align-items-center mb-0 px-3 py-1 small"},[e("span",[e("span",{staticClass:"btn btn-primary btn-sm font-weight-bold py-0 px-3 rounded-pill",on:{click:t.uploadMedia}},[e("i",{staticClass:"fas fa-upload mr-1"}),t._v("\n\t\t\t\t\t\t\t\t\t\tAdd Photo/Video\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),e("input",{staticClass:"d-none",attrs:{type:"file",id:"uploadMedia",name:"uploadMedia",accept:"image/jpeg,image/png,image/gif,video/mp4"}}),t._v(" "),e("span",{staticClass:"text-muted font-weight-bold"},[t._v(t._s(t.replyText.length)+"/500")])])])],1)]):t._e(),t._v(" "),t.loaded&&"options"==t.page?e("div",{staticClass:"messages-page"},[e("div",{staticClass:"card shadow-none"},[e("div",{staticClass:"h4 card-header font-weight-bold text-dark d-flex justify-content-between align-items-center",staticStyle:{"letter-spacing":"-0.3px"}},[e("button",{staticClass:"btn btn-light rounded-pill text-dark",on:{click:function(e){return e.preventDefault(),t.goBack("read")}}},[e("i",{staticClass:"far fa-chevron-left fa-lg"})]),t._v(" "),e("div",[t._v("Direct Message Settings")]),t._v(" "),t._m(0)]),t._v(" "),e("ul",{staticClass:"list-group list-group-flush",staticStyle:{height:"698px"}},[e("div",{staticClass:"list-group-item media border-bottom"},[e("div",{staticClass:"d-inline-block custom-control custom-switch ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hideAvatars,expression:"hideAvatars"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch0"},domProps:{checked:Array.isArray(t.hideAvatars)?t._i(t.hideAvatars,null)>-1:t.hideAvatars},on:{change:function(e){var a=t.hideAvatars,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.hideAvatars=a.concat([null])):n>-1&&(t.hideAvatars=a.slice(0,n).concat(a.slice(n+1)))}else t.hideAvatars=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch0"}})]),t._v(" "),e("div",{staticClass:"d-inline-block ml-3 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tHide Avatars\n\t\t\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"list-group-item media border-bottom"},[e("div",{staticClass:"d-inline-block custom-control custom-switch ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hideTimestamps,expression:"hideTimestamps"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:Array.isArray(t.hideTimestamps)?t._i(t.hideTimestamps,null)>-1:t.hideTimestamps},on:{change:function(e){var a=t.hideTimestamps,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.hideTimestamps=a.concat([null])):n>-1&&(t.hideTimestamps=a.slice(0,n).concat(a.slice(n+1)))}else t.hideTimestamps=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"}})]),t._v(" "),e("div",{staticClass:"d-inline-block ml-3 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tHide Timestamps\n\t\t\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"list-group-item media border-bottom"},[e("div",{staticClass:"d-inline-block custom-control custom-switch ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.largerText,expression:"largerText"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:Array.isArray(t.largerText)?t._i(t.largerText,null)>-1:t.largerText},on:{change:function(e){var a=t.largerText,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.largerText=a.concat([null])):n>-1&&(t.largerText=a.slice(0,n).concat(a.slice(n+1)))}else t.largerText=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"}})]),t._v(" "),e("div",{staticClass:"d-inline-block ml-3 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tLarger Text\n\t\t\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"list-group-item media border-bottom d-flex align-items-center"},[e("div",{staticClass:"d-inline-block custom-control custom-switch ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mutedNotifications,expression:"mutedNotifications"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch4"},domProps:{checked:Array.isArray(t.mutedNotifications)?t._i(t.mutedNotifications,null)>-1:t.mutedNotifications},on:{change:function(e){var a=t.mutedNotifications,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.mutedNotifications=a.concat([null])):n>-1&&(t.mutedNotifications=a.slice(0,n).concat(a.slice(n+1)))}else t.mutedNotifications=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch4"}})]),t._v(" "),e("div",{staticClass:"d-inline-block ml-3 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tMute Notifications\n\t\t\t\t\t\t\t\t\t"),e("p",{staticClass:"small mb-0"},[t._v("You will not receive any direct message notifications from "),e("strong",[t._v(t._s(t.thread.username))]),t._v(".")])])]),t._v(" "),e("div",{staticClass:"list-group-item media border-bottom d-flex align-items-center"},[e("div",{staticClass:"d-inline-block custom-control custom-switch ml-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showDMPrivacyWarning,expression:"showDMPrivacyWarning"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch5"},domProps:{checked:Array.isArray(t.showDMPrivacyWarning)?t._i(t.showDMPrivacyWarning,null)>-1:t.showDMPrivacyWarning},on:{change:function(e){var a=t.showDMPrivacyWarning,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.showDMPrivacyWarning=a.concat([null])):n>-1&&(t.showDMPrivacyWarning=a.slice(0,n).concat(a.slice(n+1)))}else t.showDMPrivacyWarning=i}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch5"}})]),t._v(" "),t._m(1)])])])]):t._e()]),t._v(" "),t.conversationProfile?e("div",{staticClass:"col-md-3 d-none d-md-block"},[e("div",{staticClass:"card shadow-sm mb-3",staticStyle:{"border-radius":"15px"}},[e("div",{staticClass:"small card-header font-weight-bold text-uppercase text-lighter",staticStyle:{"letter-spacing":"-0.3px"}},[t._v("\n\t\t\t\t\t\tConversation\n\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"card-body p-2"},[e("div",{staticClass:"media user-card user-select-none"},[e("div",[e("img",{staticClass:"avatar shadow cursor-pointer",attrs:{src:t.conversationProfile.avatar,draggable:"false",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=0';"}})]),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"display-name",domProps:{innerHTML:t._s(t.conversationProfile.display_name)},on:{click:function(e){return t.gotoProfile(t.conversationProfile)}}}),t._v(" "),e("p",{staticClass:"username primary",on:{click:function(e){return t.gotoProfile(t.conversationProfile)}}},[t._v("\n\t\t\t\t\t\t\t\t\t@"+t._s(t.conversationProfile.acct)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e("p",{staticClass:"stats"},[e("span",{staticClass:"stats-following"},[e("span",{staticClass:"following-count"},[t._v(t._s(t.formatCount(t.conversationProfile.following_count)))]),t._v(" Following\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),e("span",{staticClass:"stats-followers"},[e("span",{staticClass:"followers-count"},[t._v(t._s(t.formatCount(t.conversationProfile.followers_count)))]),t._v(" Followers\n\t\t\t\t\t\t\t\t\t")])])])])])])]):t._e()])]):e("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"calc(100vh - 58px)"}},[e("b-spinner")],1)])},i=[function(){var t=this._self._c;return t("div",{staticClass:"btn btn-light rounded-pill text-dark"},[t("i",{staticClass:"far fa-smile fa-lg"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-inline-block ml-3 font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\tShow Privacy Warning\n\t\t\t\t\t\t\t\t\t"),e("p",{staticClass:"small mb-0"},[t._v("Show privacy warning indicating that direct messages are not end-to-end encrypted and that caution is advised when sending sensitive/confidential information.")])])}]},28772:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(8577),i=a(75223),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);a(63708);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,null,null).exports},30328:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(98691),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},33417:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(6140),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},34719:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(38888),i=a(42260),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);a(94775);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,null,null).exports},37127:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(85072),i=a.n(r),n=a(90892),o={insert:"head",singleton:!1};i()(n.default,o);const s=n.default.locals||{}},37782:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(85072),i=a.n(r),n=a(71175),o={insert:"head",singleton:!1};i()(n.default,o);const s=n.default.locals||{}},38888:(t,e,a)=>{a.r(e);var r=a(53577),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},39005:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(76798),i=a.n(r)()((function(t){return t[1]}));i.push([t.id,".app-drawer-component .nav-link{padding:.5rem .1rem}.app-drawer-component .nav-link.active{background-color:transparent}.app-drawer-component .nav-link.router-link-exact-active{background-color:transparent;color:var(--primary)!important}.app-drawer-component .nav-link p{margin-bottom:0}.app-drawer-component .nav-link-label{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:10px;font-weight:700;margin-top:0;opacity:.6;text-transform:uppercase}",""]);const n=i},42260:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(3223),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},42563:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(76798),i=a.n(r)()((function(t){return t[1]}));i.push([t.id,".chat-msg[data-v-445f6b73]{padding-bottom:0;padding-top:0}.reply-btn[data-v-445f6b73]{border-radius:0 3px 3px 0;bottom:54px;position:absolute;right:20px;text-align:center;width:90px}.media-body .bg-primary[data-v-445f6b73]{background:linear-gradient(135deg,#2ea2f4,#0b93f6)!important}.pill-to[data-v-445f6b73]{background:var(--bg-light);margin-right:3rem}.pill-from[data-v-445f6b73],.pill-to[data-v-445f6b73]{border-radius:20px!important;font-weight:500;margin-bottom:.25rem;padding:.5rem 1rem}.pill-from[data-v-445f6b73]{background:linear-gradient(135deg,#2ea2f4,#0b93f6)!important;color:#fff!important;margin-left:3rem;text-align:right!important}.chat-smsg[data-v-445f6b73]:hover{background:var(--light-hover-bg)}.no-focus[data-v-445f6b73]{border:none!important}.no-focus[data-v-445f6b73]:focus{box-shadow:none;-moz-box-shadow:none;-webkit-box-shadow:none;outline:none!important;outline-width:0!important}.emoji-msg[data-v-445f6b73]{font-size:4rem!important;line-height:30px!important;margin-top:10px!important}.larger-text[data-v-445f6b73]{font-size:22px}.dm-chat-message .isAuthor[data-v-445f6b73]{float:right;margin-right:.5rem!important}.dm-chat-message .isAuthor .pill-to[data-v-445f6b73]{background:linear-gradient(135deg,#2ea2f4,#0b93f6)!important;border-radius:20px!important;color:#fff!important;font-weight:500;margin-bottom:.25rem;margin-left:3rem;margin-right:0;padding:.5rem 1rem;text-align:right!important}.dm-chat-message .isAuthor .msg-timestamp[data-v-445f6b73]{display:block!important;margin-bottom:0;text-align:right}.dm-chat-message .msg-avatar[data-v-445f6b73]{border-radius:14px;height:50px;width:50px}.dm-chat-message .media-embed[data-v-445f6b73]{border-radius:20px;width:140px}@media (min-width:450px){.dm-chat-message .media-embed[data-v-445f6b73]{width:200px}}",""]);const n=i},45235:(t,e,a)=>{a.r(e);var r=a(93470),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},50294:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(97257),i=a(33417),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,null,null).exports},50371:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});const r={data:function(){return{user:window._sharedData.user}}}},53577:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile-hover-card"},[e("div",{staticClass:"profile-hover-card-inner"},[e("div",{staticClass:"d-flex justify-content-between align-items-start",staticStyle:{"max-width":"240px"}},[e("a",{attrs:{href:t.profile.url},on:{click:function(e){return e.preventDefault(),t.goToProfile()}}},[e("img",{staticClass:"avatar",attrs:{src:t.profile.avatar,width:"50",height:"50",onerror:"this.onerror=null;this.src='/storage/avatars/default.png?v=0';"}})]),t._v(" "),t.user.id==t.profile.id?e("div",[e("a",{staticClass:"btn btn-outline-primary px-3 py-1 font-weight-bold rounded-pill",attrs:{href:"/settings/home"}},[t._v("Edit Profile")])]):t._e(),t._v(" "),t.user.id!=t.profile.id&&t.relationship?e("div",[t.relationship.following?e("button",{staticClass:"btn btn-outline-primary px-3 py-1 font-weight-bold rounded-pill",attrs:{disabled:t.isLoading},on:{click:function(e){return t.performUnfollow()}}},[t.isLoading?e("span",[e("b-spinner",{attrs:{small:""}})],1):e("span",[t._v("Following")])]):e("div",[t.relationship.requested?e("button",{staticClass:"btn btn-primary primary px-3 py-1 font-weight-bold rounded-pill",attrs:{disabled:""}},[t._v("Follow Requested")]):e("button",{staticClass:"btn btn-primary primary px-3 py-1 font-weight-bold rounded-pill",attrs:{disabled:t.isLoading},on:{click:function(e){return t.performFollow()}}},[t.isLoading?e("span",[e("b-spinner",{attrs:{small:""}})],1):e("span",[t._v("Follow")])])])]):t._e()]),t._v(" "),e("p",{staticClass:"display-name"},[e("a",{attrs:{href:t.profile.url},domProps:{innerHTML:t._s(t.getDisplayName())},on:{click:function(e){return e.preventDefault(),t.goToProfile()}}})]),t._v(" "),e("div",{staticClass:"username"},[e("a",{staticClass:"username-link",attrs:{href:t.profile.url},on:{click:function(e){return e.preventDefault(),t.goToProfile()}}},[t._v("\n\t\t\t\t@"+t._s(t.getUsername())+"\n\t\t\t")]),t._v(" "),t.user.id!=t.profile.id&&t.relationship&&t.relationship.followed_by?e("p",{staticClass:"username-follows-you"},[e("span",[t._v("Follows You")])]):t._e()]),t._v(" "),t.profile.hasOwnProperty("pronouns")&&t.profile.pronouns&&t.profile.pronouns.length?e("p",{staticClass:"pronouns"},[t._v("\n\t\t\t"+t._s(t.profile.pronouns.join(", "))+"\n\t\t")]):t._e(),t._v(" "),e("p",{staticClass:"bio",domProps:{innerHTML:t._s(t.bio)}}),t._v(" "),e("p",{staticClass:"stats"},[e("span",{staticClass:"stats-following"},[e("span",{staticClass:"following-count"},[t._v(t._s(t.formatCount(t.profile.following_count)))]),t._v(" Following\n\t\t\t")]),t._v(" "),e("span",{staticClass:"stats-followers"},[e("span",{staticClass:"followers-count"},[t._v(t._s(t.formatCount(t.profile.followers_count)))]),t._v(" Followers\n\t\t\t")])])])])},i=[]},55597:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(84154),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},55670:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(57141),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},56571:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dm-chat-message chat-msg"},[e("div",{staticClass:"media d-inline-flex mb-0",class:{isAuthor:t.convo.isAuthor}},[t.convo.isAuthor||t.hideAvatars?t._e():e("img",{staticClass:"mr-3 shadow msg-avatar",attrs:{src:t.thread.avatar,alt:"avatar",width:"50",onerror:"this.onerror=null;this.src='/storage/avatars/default.jpg';"}}),t._v(" "),e("div",{staticClass:"media-body"},["photo"==t.convo.type?e("p",{staticClass:"pill-to p-0 shadow"},[e("img",{staticClass:"media-embed",staticStyle:{cursor:"pointer"},attrs:{src:t.convo.media,onerror:"this.onerror=null;this.src='/storage/no-preview.png';"},on:{click:function(e){return e.preventDefault(),t.expandMedia.apply(null,arguments)}}})]):"link"==t.convo.type?e("div",{staticClass:"d-inline-flex mb-0 cursor-pointer"},[e("div",{staticClass:"card shadow border",staticStyle:{width:"240px","border-radius":"18px"}},[e("div",{staticClass:"card-body p-0",attrs:{title:t.convo.text}},[e("div",{staticClass:"media align-items-center"},[t.convo.meta.local?e("div",{staticClass:"bg-primary mr-3 p-3",staticStyle:{"border-radius":"18px"}},[e("i",{staticClass:"fas fa-link text-white fa-2x"})]):e("div",{staticClass:"bg-light mr-3 p-3",staticStyle:{"border-radius":"18px"}},[e("i",{staticClass:"fas fa-link text-lighter fa-2x"})]),t._v(" "),e("div",{staticClass:"media-body text-muted small text-truncate pr-2 font-weight-bold"},[t._v("\n                                    "+t._s(t.convo.meta.local?t.convo.text.substr(8):t.convo.meta.domain)+"\n                                ")])])])])]):"video"==t.convo.type?e("p",{staticClass:"pill-to p-0 shadow mb-0",staticStyle:{"line-height":"0"}},[e("video",{staticClass:"media-embed",staticStyle:{"border-radius":"20px"},attrs:{src:t.convo.media,controls:""}})]):"emoji"==t.convo.type?e("p",{staticClass:"p-0 emoji-msg"},[t._v("\n                "+t._s(t.convo.text)+"\n            ")]):"story:react"==t.convo.type?e("p",{staticClass:"pill-to p-0 shadow",staticStyle:{width:"140px","margin-bottom":"10px",position:"relative"}},[e("img",{staticStyle:{"border-radius":"20px"},attrs:{src:t.convo.meta.story_media_url,width:"140",onerror:"this.onerror=null;this.src='/storage/no-preview.png';"}}),t._v(" "),e("span",{staticClass:"badge badge-light rounded-pill border",staticStyle:{"font-size":"20px",position:"absolute",bottom:"-10px",left:"-10px"}},[t._v("\n                    "+t._s(t.convo.meta.reaction)+"\n                ")])]):"story:comment"==t.convo.type?e("span",{staticClass:"p-0",staticStyle:{display:"flex","justify-content":"flex-start","margin-bottom":"10px",position:"relative"}},[e("span",{},[e("img",{staticClass:"d-block pill-to p-0 mr-0 pr-0 mb-n1",staticStyle:{"border-radius":"20px"},attrs:{src:t.convo.meta.story_media_url,width:"140",onerror:"this.onerror=null;this.src='/storage/no-preview.png';"}}),t._v(" "),e("span",{staticClass:"pill-to shadow text-break",staticStyle:{width:"fit-content"}},[t._v(t._s(t.convo.meta.caption))])])]):e("p",{class:[t.largerText?"pill-to shadow larger-text text-break":"pill-to shadow text-break"]},[t._v("\n                "+t._s(t.convo.text)+"\n            ")]),t._v(" "),"story:react"==t.convo.type?e("p",{staticClass:"small text-muted mb-0 ml-0"},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.convo.meta.story_actor_username))]),t._v(" reacted your story\n            ")]):t._e(),t._v(" "),"story:comment"==t.convo.type?e("p",{staticClass:"small text-muted mb-0 ml-0"},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.convo.meta.story_actor_username))]),t._v(" replied to your story\n            ")]):t._e(),t._v(" "),e("p",{staticClass:"msg-timestamp small text-muted font-weight-bold d-flex align-items-center justify-content-start",attrs:{"data-timestamp":"timestamp"}},[t.convo.hidden?e("span",{staticClass:"small pr-2",attrs:{title:"Filtered Message","data-toggle":"tooltip","data-placement":"bottom"}},[e("i",{staticClass:"fas fa-lock"})]):t._e(),t._v(" "),t.hideTimestamps?t._e():e("span",[t._v("\n                    "+t._s(t.convo.timeAgo)+"\n                ")]),t._v(" "),t.convo.isAuthor?e("button",{staticClass:"btn btn-link btn-sm text-lighter pl-2 font-weight-bold",on:{click:t.confirmDelete}},[e("i",{staticClass:"far fa-trash-alt"})]):t._e()])]),t._v(" "),t.convo.isAuthor&&!t.hideAvatars?e("img",{staticClass:"ml-3 shadow msg-avatar",attrs:{src:t.profile.avatar,alt:"avatar",width:"50",onerror:"this.onerror=null;this.src='/storage/avatars/default.jpg';"}}):t._e()])])},i=[]},57141:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var r=a(5787),i=a(28772),n=a(90198),o=a(25100),s=a(34719),l=a(18011),c=a(74692);function d(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}const u={props:["accountId"],components:{drawer:r.default,sidebar:i.default,intersect:o.default,"dm-placeholder":n.default,"profile-card":s.default,message:l.default},data:function(){return{isLoaded:!1,profile:void 0,conversationProfile:void 0,isIntersecting:!1,config:window.App.config,hideAvatars:!0,hideTimestamps:!1,largerText:!1,autoRefresh:!1,mutedNotifications:!1,blocked:!1,loaded:!1,page:"read",pages:["browse","add","read"],threads:[],thread:!1,threadIndex:!1,replyText:"",composeUsername:"",uploading:!1,uploadProgress:null,min_id:null,max_id:null,loadingMessages:!1,showLoadMore:!0,showReplyLong:!1,showReplyTooLong:!1,showPrivacyWarning:!0}},mounted:function(){var t=this;this.profile=window._sharedData.user,this.isLoaded=!0;var e=this;axios.get("/api/v1/accounts/"+this.accountId).then((function(e){t.conversationProfile=e.data})),axios.get("/api/direct/thread",{params:{pid:e.accountId}}).then((function(a){e.loaded=!0;var r=a.data;t.thread=r,t.threads=[r],t.threadIndex=0;var i=r.messages.map((function(t){return t.id}));t.max_id=Math.max.apply(Math,d(i)),t.min_id=Math.min.apply(Math,d(i)),t.mutedNotifications=r.muted,t.markAsRead()}));var a=localStorage.getItem("px_dm_options");a&&(a=JSON.parse(a),this.hideAvatars=a.hideAvatars,this.hideTimestamps=a.hideTimestamps,this.largerText=a.largerText)},computed:{showDMPrivacyWarning:{get:function(){return this.$store.state.showDMPrivacyWarning},set:function(t){window.localStorage.removeItem("pf_m2s.dmwarncounter"),this.$store.commit("setShowDMPrivacyWarning",t)}}},watch:{mutedNotifications:function(t){t?axios.post("/api/direct/mute",{id:this.accountId}).then((function(t){})):axios.post("/api/direct/unmute",{id:this.accountId}).then((function(t){})),this.mutedNotifications=t},hideAvatars:function(t){this.hideAvatars=t,this.updateOptions()},hideTimestamps:function(t){this.hideTimestamps=t,this.updateOptions()},largerText:function(t){this.largerText=t,this.updateOptions()},replyText:function(t){return t.length<500&&(this.showReplyLong=!1,this.showReplyTooLong=!1),t.length>500?(this.showReplyLong=!1,void(this.showReplyTooLong=!0)):t.length>450?(this.showReplyTooLong=!1,void(this.showReplyLong=!0)):void 0}},methods:{sendMessage:function(){var t=this,e=this,a=this.replyText;axios.post("/api/direct/create",{to_id:this.threads[this.threadIndex].id,message:a,type:e.isEmoji(a)&&a.length<10?"emoji":"text"}).then((function(a){var r=a.data;e.threads[e.threadIndex].messages.unshift(r);var i=e.threads[e.threadIndex].messages.map((function(t){return t.id}));t.max_id=Math.max.apply(Math,d(i)),t.min_id=Math.min.apply(Math,d(i))})).catch((function(t){400==t.response.status?swal("Error",t.response.data.error,"error"):403==t.response.status&&(e.blocked=!0,swal("Profile Unavailable","You cannot message this profile at this time.","error"))})),this.replyText=""},truncate:function(t){return _.truncate(t)},deleteMessage:function(t){var e=this;window.confirm("Are you sure you want to delete this message?")&&axios.delete("/api/direct/message",{params:{id:this.thread.messages[t].reportId}}).then((function(a){e.thread.messages.splice(t,1)}))},reportMessage:function(){this.closeCtxMenu();var t="/i/report?type=post&id="+this.ctxContext.reportId;window.location.href=t},uploadMedia:function(t){var e=this;c(document).on("change","#uploadMedia",(function(t){e.handleUpload()}));var a=c(t.target);a.attr("disabled",""),c("#uploadMedia").click(),a.blur(),a.removeAttr("disabled")},handleUpload:function(){var t=this;if(!t.uploading){t.uploading=!0;var e=document.querySelector("#uploadMedia");e.files.length||(this.uploading=!1),Array.prototype.forEach.call(e.files,(function(e,a){var r=e.type,i=t.config.uploader.media_types.split(",");if(-1==c.inArray(r,i))return swal("Invalid File Type","The file you are trying to add is not a valid mime type. Please upload a "+t.config.uploader.media_types+" only.","error"),void(t.uploading=!1);var n=new FormData;n.append("file",e),n.append("to_id",t.threads[t.threadIndex].id);var o={onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t.uploadProgress=a}};axios.post("/api/direct/media",n,o).then((function(e){t.uploadProgress=100,t.uploading=!1;var a={id:e.data.id,type:e.data.type,reportId:e.data.reportId,isAuthor:!0,text:null,media:e.data.url,timeAgo:"1s",seen:null};t.threads[t.threadIndex].messages.unshift(a)})).catch((function(a){if(a.hasOwnProperty("response")&&a.response.hasOwnProperty("status"))if(451===a.response.status)t.uploading=!1,e.value=null,swal("Banned Content","This content has been banned and cannot be uploaded.","error");else t.uploading=!1,e.value=null,swal("Oops, something went wrong!","An unexpected error occurred.","error")})),e.value=null,t.uploadProgress=0}))}},viewOriginal:function(){var t=this.ctxContext.media;window.location.href=t},isEmoji:function(t){var e=t.replace(new RegExp("[\0-ữf]","g"),""),a=t.replace(new RegExp("[\n\rs]+|( )+","g"),"");return e.length===a.length},copyText:function(){window.App.util.clipboard(this.ctxContext.text),this.closeCtxMenu()},clickLink:function(){var t=this.ctxContext.text;1!=this.ctxContext.meta.local&&(t="/i/redirect?url="+encodeURI(this.ctxContext.text)),window.location.href=t},markAsRead:function(){},loadOlderMessages:function(){var t=this,e=this;this.loadingMessages=!0,axios.get("/api/direct/thread",{params:{pid:this.accountId,max_id:this.min_id}}).then((function(a){var r,i=a.data;if(!i.messages.length)return t.showLoadMore=!1,void(t.loadingMessages=!1);var n=t.thread.messages.map((function(t){return t.id})),o=i.messages.filter((function(t){return-1==n.indexOf(t.id)})).reverse(),s=o.map((function(t){return t.id})),l=Math.min.apply(Math,d(s));if(l==t.min_id)return t.showLoadMore=!1,void(t.loadingMessages=!1);t.min_id=l,(r=t.thread.messages).push.apply(r,d(o)),setTimeout((function(){e.loadingMessages=!1}),500)})).catch((function(e){t.loadingMessages=!1}))},messagePoll:function(){var t=this;setInterval((function(){axios.get("/api/direct/thread",{params:{pid:t.accountId,min_id:t.thread.messages[t.thread.messages.length-1].id}}).then((function(t){}))}),5e3)},showOptions:function(){this.page="options"},updateOptions:function(){var t={v:1,hideAvatars:this.hideAvatars,hideTimestamps:this.hideTimestamps,largerText:this.largerText};window.localStorage.setItem("px_dm_options",JSON.stringify(t))},formatCount:function(t){return window.App.util.format.count(t)},goBack:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.page=t:this.$router.push("/i/web/direct")},gotoProfile:function(t){this.$router.push("/i/web/profile/".concat(t.id))},togglePrivacyWarning:function(){console.log("clicked toggle privacy warning");var t=window.localStorage,e="pf_m2s.dmwarncounter";if(this.showPrivacyWarning=!1,t.getItem(e)){var a=t.getItem(e);a++,t.setItem(e,a),a>5&&(this.showDMPrivacyWarning=!1)}else t.setItem(e,1)}}}},63708:(t,e,a)=>{a.r(e);var r=a(37127),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},67153:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("b-modal",{ref:"avatarUpdateModal",attrs:{centered:"","hide-footer":"","header-class":"py-2","body-class":"p-0","title-class":"w-100 text-center pl-4 font-weight-bold","title-tag":"p",title:"Upload Avatar"}},[e("input",{ref:"avatarUpdateRef",staticClass:"d-none",attrs:{type:"file",accept:"image/jpg,image/png"},on:{change:function(e){return t.handleAvatarUpdate()}}}),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center"},[0===t.avatarUpdateIndex?e("div",{staticClass:"py-5 user-select-none cursor-pointer",on:{drop:t.handleDrop,dragover:t.handleDrop,click:function(e){return t.avatarUpdateStep(0)}}},[e("p",{staticClass:"text-center primary"},[e("i",{staticClass:"fal fa-cloud-upload fa-3x"})]),t._v(" "),e("p",{staticClass:"text-center lead"},[t._v("Drag photo here or click here")]),t._v(" "),e("p",{staticClass:"text-center small text-muted mb-0"},[t._v("Must be a "),e("strong",[t._v("png")]),t._v(" or "),e("strong",[t._v("jpg")]),t._v(" image up to 2MB")])]):1===t.avatarUpdateIndex?e("div",{staticClass:"w-100 p-5"},[e("div",{staticClass:"d-md-flex justify-content-between align-items-center"},[e("div",{staticClass:"text-center mb-4"},[e("p",{staticClass:"small font-weight-bold",staticStyle:{opacity:"0.7"}},[t._v("Current")]),t._v(" "),e("img",{staticClass:"shadow",staticStyle:{width:"150px",height:"150px","object-fit":"cover","border-radius":"18px",opacity:"0.7"},attrs:{src:t.user.avatar}})]),t._v(" "),e("div",{staticClass:"text-center mb-4"},[e("p",{staticClass:"font-weight-bold"},[t._v("New")]),t._v(" "),e("img",{staticClass:"shadow",staticStyle:{width:"220px",height:"220px","object-fit":"cover","border-radius":"18px"},attrs:{src:t.avatarUpdatePreview}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("button",{staticClass:"btn btn-light font-weight-bold btn-block mr-3",on:{click:function(e){return t.avatarUpdateClear()}}},[t._v("Clear")]),t._v(" "),e("button",{staticClass:"btn btn-primary primary font-weight-bold btn-block mt-0",on:{click:function(e){return t.confirmUpload()}}},[t._v("Upload")])])]):t._e()])])},i=[]},69831:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-drawer-component"},[e("div",{staticClass:"mobile-footer-spacer d-block d-sm-none mt-5"}),t._v(" "),e("div",{staticClass:"mobile-footer d-block d-sm-none fixed-bottom"},[e("div",{staticClass:"card card-body rounded-0 px-0 pt-2 pb-3 box-shadow",staticStyle:{"border-top":"1px solid var(--border-color)"}},[e("ul",{staticClass:"nav nav-pills nav-fill d-flex align-items-middle"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web"}},[e("p",[e("i",{staticClass:"far fa-home fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Home")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/timeline/local"}},[e("p",[e("i",{staticClass:"far fa-stream fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Local")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/compose"}},[e("p",[e("i",{staticClass:"far fa-plus-circle fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("New")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/notifications"}},[e("p",[e("i",{staticClass:"far fa-bell fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Alerts")])])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-dark",attrs:{to:"/i/web/profile/"+t.user.id}},[e("p",[e("i",{staticClass:"far fa-user fa-lg"})]),t._v(" "),e("p",{staticClass:"nav-link-label"},[e("span",[t._v("Profile")])])])],1)])])])])},i=[]},70626:(t,e,a)=>{a.r(e),a.d(e,{render:()=>r,staticRenderFns:()=>i});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"read-more-component",staticStyle:{"word-break":"break-word"}},[e("div",{domProps:{innerHTML:t._s(t.content)}}),t._v(" "),t.canTranslate?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.translate.apply(null,arguments)}}},[t._v(t._s(t.$t("common.translate"))+" ")]):t._e()])},i=[]},71175:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(76798),i=a.n(r)()((function(t){return t[1]}));i.push([t.id,".profile-hover-card{border:none;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden;padding:.5rem;width:300px}.profile-hover-card .avatar{border-radius:15px;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;margin-bottom:.5rem}.profile-hover-card .display-name{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;font-weight:800;font-weight:800!important;line-height:.8;margin-bottom:2px;margin-top:5px;max-width:240px;-webkit-user-select:all;-moz-user-select:all;user-select:all;word-break:break-word}.profile-hover-card .display-name a{color:var(--body-color);text-decoration:none}.profile-hover-card .username{font-size:12px;font-weight:700;margin-bottom:.6rem;margin-top:0;max-width:240px;overflow:hidden;-webkit-user-select:all;-moz-user-select:all;user-select:all;word-break:break-word}.profile-hover-card .username-link{color:var(--text-lighter);margin-right:4px;text-decoration:none}.profile-hover-card .username-follows-you{margin:4px 0}.profile-hover-card .username-follows-you span{background-color:var(--comment-bg);border-radius:6px;color:var(--dropdown-item-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:12px;font-weight:500;line-height:16px;padding:2px 4px}.profile-hover-card .pronouns{color:#9ca3af;font-size:11px;font-weight:600;margin-bottom:.6rem;margin-top:-.8rem}.profile-hover-card .bio{color:var(--body-color);font-size:12px;line-height:1.2;margin-bottom:0;max-height:60px;max-width:240px;overflow:hidden;text-overflow:ellipsis;word-break:break-word}.profile-hover-card .bio .invisible{display:none}.profile-hover-card .stats{color:var(--body-color);font-size:14px;margin-bottom:0;margin-top:.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}.profile-hover-card .stats .stats-following{margin-right:.8rem}.profile-hover-card .stats .followers-count,.profile-hover-card .stats .following-count{font-weight:800}.profile-hover-card .btn.rounded-pill{min-width:80px}",""]);const n=i},74195:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(76798),i=a.n(r)()((function(t){return t[1]}));i.push([t.id,'.dm-page-component[data-v-a2623f94]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.dm-page-component .user-card[data-v-a2623f94]{align-items:center}.dm-page-component .user-card .avatar[data-v-a2623f94]{border:1px solid var(--border-color);border-radius:15px;height:60px;margin-right:.8rem;width:60px}.dm-page-component .user-card .avatar-update-btn[data-v-a2623f94]{background:hsla(0,0%,100%,.9);border:1px solid #dee2e6!important;border-radius:50rem;bottom:0;height:20px;padding:0;position:absolute;right:12px;width:20px}.dm-page-component .user-card .avatar-update-btn-icon[data-v-a2623f94]{-webkit-font-smoothing:antialiased;display:inline-block;font-family:Font Awesome\\ 5 Free;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-rendering:auto}.dm-page-component .user-card .avatar-update-btn-icon[data-v-a2623f94]:before{content:"\\f013"}.dm-page-component .user-card .username[data-v-a2623f94]{cursor:pointer;font-size:13px;font-weight:600;margin-bottom:0}.dm-page-component .user-card .display-name[data-v-a2623f94]{color:var(--body-color);cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:800!important;line-height:.8;margin-bottom:0;-webkit-user-select:all;-moz-user-select:all;user-select:all}.dm-page-component .user-card .stats[data-v-a2623f94]{font-size:12px;margin-bottom:0;margin-top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.dm-page-component .user-card .stats .stats-following[data-v-a2623f94]{margin-right:.8rem}.dm-page-component .user-card .stats .followers-count[data-v-a2623f94],.dm-page-component .user-card .stats .following-count[data-v-a2623f94]{font-weight:800}.dm-page-component .dm-reply-form[data-v-a2623f94]{background-color:var(--card-bg);display:flex;justify-content:space-between;padding:1rem}.dm-page-component .dm-reply-form .btn.focus[data-v-a2623f94],.dm-page-component .dm-reply-form .btn[data-v-a2623f94]:focus,.dm-page-component .dm-reply-form input.focus[data-v-a2623f94],.dm-page-component .dm-reply-form input[data-v-a2623f94]:focus{box-shadow:none;outline:0}.dm-page-component .dm-reply-form[data-v-a2623f94] :disabled{opacity:20%!important}.dm-page-component .dm-reply-form-input-group[data-v-a2623f94]{margin-right:10px;position:relative;width:100%}.dm-page-component .dm-reply-form-input-group input[data-v-a2623f94]{background-color:var(--comment-bg);border-color:var(--comment-bg)!important;border-radius:25px;color:var(--dark);font-size:15px;padding-right:60px;position:absolute}.dm-page-component .dm-reply-form-input-group .upload-media-btn[data-v-a2623f94]{color:var(--text-lighter);position:absolute;right:10px;top:50%;transform:translateY(-50%)}.dm-page-component .dm-reply-form-submit-btn[data-v-a2623f94]{border-radius:24px;height:48px;width:48px}.dm-page-component .dm-status-bar[data-v-a2623f94]{color:var(--text-lighter);font-size:12px;font-weight:600}.dm-page-component .dm-status-bar p[data-v-a2623f94]{margin-bottom:0}.dm-page-component .dm-privacy-warning .btn[data-v-a2623f94],.dm-page-component .dm-privacy-warning p[data-v-a2623f94]{color:#000}.dm-page-component .dm-privacy-warning .warning-text[data-v-a2623f94]{text-align:left}@media (min-width:992px){.dm-page-component .dm-privacy-warning .warning-text[data-v-a2623f94]{text-align:center}}.dm-page-component-row .dm-wrapper[data-v-a2623f94]{height:calc(100vh - 240px);padding-top:100px}@media (min-width:500px){.dm-page-component-row .dm-wrapper[data-v-a2623f94]{min-height:40vh}}@media (min-width:700px){.dm-page-component-row .dm-wrapper[data-v-a2623f94]{height:60vh}}',""]);const n=i},74688:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(85072),i=a.n(r),n=a(39005),o={insert:"head",singleton:!1};i()(n.default,o);const s=n.default.locals||{}},75223:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(79318),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},79318:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var r=a(95353),i=a(90414);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const l={props:{user:{type:Object,default:function(){return{avatar:"/storage/avatars/default.jpg",username:!1,display_name:"",following_count:0,followers_count:0}}},links:{type:Array,default:function(){return[{name:"Discover",path:"/i/web/discover",icon:"fas fa-compass"},{name:"Groups",path:"/i/web/groups",icon:"far fa-user-friends"},{name:"Videos",path:"/i/web/videos",icon:"far fa-video"}]}}},components:{UpdateAvatar:i.default},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},(0,r.mapGetters)(["getCustomEmoji"])),data:function(){return{loaded:!1,hasLocalTimeline:!0,hasNetworkTimeline:!1,hasLiveStreams:!1,hasStories:!1,hasGroups:!1,showLegalNoticeLink:window.App.config.show_legal_notice_link}},mounted:function(){window.App.config.features.hasOwnProperty("timelines")&&(this.hasLocalTimeline=App.config.features.timelines.local,this.hasNetworkTimeline=App.config.features.timelines.network,this.hasGroups=App.config.features.groups),window.App.config.features.hasOwnProperty("stories")&&(this.hasStories=App.config.features.stories)},methods:{getDisplayName:function(){var t=this,e=this.user,a=e.display_name;if(!a)return e.username;if(a.includes(":")){return a.replaceAll(/(<a?)?:\w+:(\d{18}>)?/g,(function(e){var a=e.slice(1,e.length-1),r=t.getCustomEmoji.filter((function(t){return t.shortcode==a}));return r.length?'<img draggable="false" class="emojione custom-emoji" alt="'.concat(r[0].shortcode,'" title="').concat(r[0].shortcode,'" src="').concat(r[0].url,'" data-original="').concat(r[0].url,'" data-static="').concat(r[0].static_url,'" width="16" height="16" onerror="this.onerror=null;this.src=\'/storage/emoji/missing.png\';" />'):e}))}return a},gotoMyProfile:function(){var t=this.user;this.$router.push({name:"profile",path:"/i/web/profile/".concat(t.id),params:{id:t.id,cachedProfile:t,cachedUser:t}})},formatCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"compact";return new Intl.NumberFormat(e,{notation:a,compactDisplay:"short"}).format(t)},updateAvatar:function(){event.currentTarget.blur(),this.$refs.avatarUpdate.open()},createNewPost:function(){this.$refs.createPostModal.show()},goToFeed:function(t){var e=this.$route.path;switch(t){case"home":"/i/web"==e?this.$emit("refresh"):this.$router.push("/i/web");break;case"local":"/i/web/timeline/local"==e?this.$emit("refresh"):this.$router.push({name:"timeline",params:{scope:"local"}});break;case"global":"/i/web/timeline/global"==e?this.$emit("refresh"):this.$router.push({name:"timeline",params:{scope:"global"}})}}}}},79491:(t,e,a)=>{a.r(e);var r=a(97246),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},79977:(t,e,a)=>{a.r(e);var r=a(11582),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},80260:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(50371),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i);const n=r.default},82704:(t,e,a)=>{a.r(e);var r=a(67153),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},84154:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});const r={props:["user"],data:function(){return{loaded:!1,avatarUpdateIndex:0,avatarUpdateFile:void 0,avatarUpdatePreview:void 0}},methods:{open:function(){this.$refs.avatarUpdateModal.show()},avatarUpdateClose:function(){this.$refs.avatarUpdateModal.hide(),this.avatarUpdateIndex=0,this.avatarUpdateFile=void 0},avatarUpdateClear:function(){this.avatarUpdateIndex=0,this.avatarUpdateFile=void 0},avatarUpdateStep:function(t){this.$refs.avatarUpdateRef.click(),this.avatarUpdateIndex=t},handleAvatarUpdate:function(){var t=this,e=event.target.files;Array.prototype.forEach.call(e,(function(e,a){t.avatarUpdateFile=e,t.avatarUpdatePreview=URL.createObjectURL(e),t.avatarUpdateIndex=1}))},handleDrop:function(t){t.preventDefault();var e=this;if(t.dataTransfer.items){for(var a=0;a<t.dataTransfer.items.length;a++)if("file"===t.dataTransfer.items[a].kind){var r=t.dataTransfer.items[a].getAsFile();if(!r)return;e.avatarUpdateFile=r,e.avatarUpdatePreview=URL.createObjectURL(r),e.avatarUpdateIndex=1}}else for(a=0;a<t.dataTransfer.files.length;a++){if(!t.dataTransfer.files[a].hasOwnProperty("name"))return;e.avatarUpdateFile=t.dataTransfer.files[a],e.avatarUpdatePreview=URL.createObjectURL(t.dataTransfer.files[a]),e.avatarUpdateIndex=1}},confirmUpload:function(){var t=this;if(window.confirm("Are you sure you want to change your avatar photo?")){var e=new FormData;e.append("_method","PATCH"),e.append("avatar",this.avatarUpdateFile),axios.post("/api/v1/accounts/update_credentials",e).then((function(e){window._sharedData.user.avatar=e.data.avatar,t.avatarUpdateClose()})).catch((function(t){t.response.data&&t.response.data.errors&&t.response.data.errors.avatar&&t.response.data.errors.avatar.length&&swal("Oops!",t.response.data.errors.avatar[0],"error")}))}}}}},89069:(t,e,a)=>{a.r(e);var r=a(74688),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},90198:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var r=a(79977);const i=(0,a(14486).default)({},r.render,r.staticRenderFns,!1,null,null,null).exports},90414:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(82704),i=a(55597),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,null,null).exports},90892:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(76798),i=a.n(r)()((function(t){return t[1]}));i.push([t.id,'.sidebar-component .sidebar-sticky{background-color:var(--card-bg);border-radius:15px}.sidebar-component.sticky-top{top:90px}.sidebar-component .nav{overflow:auto}.sidebar-component .nav-item .nav-link{color:#9ca3af;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-weight:500;margin-bottom:5px;padding-left:14px}.sidebar-component .nav-item .nav-link:hover{background-color:var(--light-hover-bg)}.sidebar-component .nav-item .nav-link .icon{display:inline-block;text-align:center;width:40px}.sidebar-component .nav-item .router-link-exact-active{color:var(--primary);font-weight:700;padding-left:14px}.sidebar-component .nav-item .router-link-exact-active:not(.text-center){border-left:4px solid var(--primary);padding-left:10px}.sidebar-component .nav-item .router-link-exact-active .icon{color:var(--primary)!important}.sidebar-component .nav-item:first-child .nav-link .small{font-weight:700}.sidebar-component .nav-item:first-child .nav-link:first-child{border-top-left-radius:15px}.sidebar-component .nav-item:first-child .nav-link:last-child{border-top-right-radius:15px}.sidebar-component .nav-item:is(:last-child) .nav-link{border-bottom-left-radius:15px;border-bottom-right-radius:15px;margin-bottom:0}.sidebar-component .sidebar-heading{font-size:.75rem;text-transform:uppercase}.sidebar-component .user-card{align-items:center}.sidebar-component .user-card .avatar{border:1px solid var(--border-color);border-radius:15px;height:75px;margin-right:.8rem;width:75px}.sidebar-component .user-card .avatar-update-btn{background:hsla(0,0%,100%,.9);border:1px solid #dee2e6!important;border-radius:50rem;bottom:0;height:20px;padding:0;position:absolute;right:12px;width:20px}.sidebar-component .user-card .avatar-update-btn-icon{-webkit-font-smoothing:antialiased;display:inline-block;font-family:Font Awesome\\ 5 Free;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-rendering:auto}.sidebar-component .user-card .avatar-update-btn-icon:before{content:"\\f013"}.sidebar-component .user-card .username{font-size:13px;font-weight:600;margin-bottom:0}.sidebar-component .user-card .display-name{color:var(--body-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:800!important;line-height:.8;margin-bottom:0;-webkit-user-select:all;-moz-user-select:all;user-select:all;word-break:break-all}.sidebar-component .user-card .stats{font-size:12px;margin-bottom:0;margin-top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-component .user-card .stats .stats-following{margin-right:.8rem}.sidebar-component .user-card .stats .followers-count,.sidebar-component .user-card .stats .following-count{font-weight:800}.sidebar-component .btn-primary{background-color:var(--primary)}.sidebar-component .btn-primary.router-link-exact-active{cursor:unset;opacity:.5;pointer-events:none}.sidebar-component .sidebar-sitelinks{display:flex;justify-content:space-between;margin-top:1rem;padding:0 2rem}.sidebar-component .sidebar-sitelinks a{color:#b8c2cc;font-size:12px}.sidebar-component .sidebar-sitelinks .active{color:#212529;font-weight:600}.sidebar-component .sidebar-attribution{color:#b8c2cc;font-size:10px;margin-top:.5rem;padding-left:2rem}.sidebar-component .sidebar-attribution a{color:#b8c2cc!important}.sidebar-component .sidebar-attribution a.powered-by{opacity:.5}',""]);const n=i},93470:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(85072),i=a.n(r),n=a(42563),o={insert:"head",singleton:!1};i()(n.default,o);const s=n.default.locals||{}},94775:(t,e,a)=>{a.r(e);var r=a(37782),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},95301:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var r=a(22670),i=a(55670),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);a.d(e,n);a(79491);const o=(0,a(14486).default)(i.default,r.render,r.staticRenderFns,!1,null,"a2623f94",null).exports},97246:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(85072),i=a.n(r),n=a(74195),o={insert:"head",singleton:!1};i()(n.default,o);const s=n.default.locals||{}},97257:(t,e,a)=>{a.r(e);var r=a(70626),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);a.d(e,i)},98691:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var r=a(18634);const i={props:{thread:{type:Object},convo:{type:Object},hideAvatars:{type:Boolean,default:!1},hideTimestamps:{type:Boolean,default:!1},largerText:{type:Boolean,default:!1}},data:function(){return{profile:window._sharedData.user}},methods:{truncate:function(t){return _.truncate(t)},viewOriginal:function(){var t=this.ctxContext.media;window.location.href=t},isEmoji:function(t){var e=t.replace(new RegExp("[\0-ữf]","g"),""),a=t.replace(new RegExp("[\n\rs]+|( )+","g"),"");return e.length===a.length},copyText:function(){window.App.util.clipboard(this.ctxContext.text),this.closeCtxMenu()},clickLink:function(){var t=this.ctxContext.text;1!=this.ctxContext.meta.local&&(t="/i/redirect?url="+encodeURI(this.ctxContext.text)),window.location.href=t},formatCount:function(t){return window.App.util.format.count(t)},confirmDelete:function(){this.$emit("confirm-delete")},expandMedia:function(t){(0,r.default)({el:t.target})}}}}}]);